# ANR Lab Annual Report 2023

## Как начать работать с отчётом

### Открываем шаблон
1. Скачайте и установите [GitHub Desktop](https://desktop.github.com/), [Obsidian](https://obsidian.md) и [Zotero](https://zotero.org). Когда Zotero предложит установить Zotero Connector, согласитесь и установите — он понадобится позже.
2. Если у вас нет аккаунта на GitHub, [зарегистрируйтесь](https://github.com/signup).
3. Клонируйте этот репозиторий на свой компьютер с помощью GitHub Desktop — вот [инструкция](https://docs.github.com/ru/desktop/contributing-and-collaborating-using-github-desktop/adding-and-cloning-repositories/cloning-a-repository-from-github-to-github-desktop). А здесь — [вводное видео про Git, GitHub и как и зачем этим пользоваться](https://www.youtube.com/watch?v=8Dd7KRpKeaE).
5. Скачайте [папку с дефолтными настройками Obsidian](https://dl.dropboxusercontent.com/s/zvgds9kfhtivp0z/.obsidian.zip) и разархивируйте её в корень проекта.
6. Откройте Obsidian, выберите **"Open folder as a vault"**, а затем — папку на вашем компьютере, в которую вы сохранили этот репозиторий. Вы увидите что-то подобное:
![report-repo-vault.png](service/report-repo-vault.png)

1. Это текстовый редактор, в котором мы будем писать отчёт, используя язык Markdown. Здесь [короткая справка, как писать на Markdown](https://www.markdownguide.org/basic-syntax/) (там просто, правда).
2. Создайте новый файл, нажав `Ctrl+O` или `Cmd+O` на Маке. В открывшемся окне напишите название файла по формуле:
	 - **000_фамилия_тема-текста**, где 000 — порядковый номер вашего текста в отчёте:
	1. 000 зарезервировано для файла с метаданными отчёта — названием, годом и т.д.
	2. Первая цифра — глава. Например, 0 — введение. Ей соответствует # в тексте.
	3. Вторая цифра — параграф, крупный пункт. Ему соответствует ## в тексте.
	4. Третья цифра — часть подзаголовка. Ей соответствует ### в тексте.
	Давайте называть по-английски. Так компилятор точно поймёт нас. Например, я хочу создать файл, который будет второй частью второй главы:
![note-picker.png](service/note-picker.png)

3. Почитайте шаблон и поэкспериментируйте с ним, пока не разберётесь, как им пользоваться.

### Настраиваем Zotero
1. Если на пользовались рефереренс-менеджерами, то посмотрите [введение](https://www.youtube.com/watch?v=JG7Uq_JFDzE).
2. Создайте в Zotero коллекцию «Отчёт», добавьте несколько статей, желательно сразу релевантных вашей теме
4. Установите плагин [Better BibTex](https://retorque.re/zotero-better-bibtex/installation/): скачайте [установочный файл `*.xpi` здесь](https://github.com/retorquere/zotero-better-bibtex/releases/tag/v6.7.94), затем в Zotero перейдите во вкладку «Инструменты» → «Дополнения» → нажмите на шесетёрнку, выберите "Install Add-On from file…" и укажите скачанный xpi-файл.
5. Настройте BetterBibTex. Для этого в Zotero перейдите во вкладку «Инструменты» → "Better BibTex" → "Open Better BibTex Preferences". После этого в поле "Citation Key formula" замените всё написанное на `auth.lower+year` и сохраните изменения.
3. Экспортируйте коллекцию «Отчёт» в папку `service` — её можно найти внутри папки с отчётом. Основные шаги: нажать правой кнопкой на коллекцию, выбрать «Экспортировать», в названии файла скопировать название вашего файла из Obsidian (например, `010_shevchenko_epistemic-networks`), выбрать формат CSL-JSON, **нажать чекбокс "Keep Updated"**, а затем "ОК". Если нужно, более детально рассказано [здесь](https://www.youtube.com/watch?v=D9ivU_IKO6M). Хотя в видео экспортируют всю библиотеку Zotero, вам **нужно экспортировать только коллекцию «Отчёт»**.
1. Найдите тестовые статьи и попробуйте вставить их в созданный ранее файл. Это делается с помощью клавиш `Ctrl + Shift + E` — выпадает содержимое папки «Отчёт», которую вы создали в Zotero.
![citation-picker.png](service/citation-picker.png)

2. Ещё раз убедитесь, что вы положили свой файл с библиографией в папку `service` (это правда важно).


### Отправляем написанный файл в GitHub
Когда вы закончили работу над текстом, нужно отправить ваш текст в GitHub — там из него и файлов коллег автоматически будет собираться отчёт. Как отправить файл:
1. Зайти в GitHub Desktop — там покажутся все изменения, которые вы сделали
2. Удостовериться, что находитесь на ветке `dev`
3. Нажать "Fetch"
4. Выбрать галками только файлы в папках `text`, `service` и `images` (если вы загрузили библиографию и картинки соответственно). Лишних файлов быть не должно, но это превентивная мера. 
5. Слева внизу в маленьком текстовом поле рядом с вашей аватаркой кратко написать суть ваших изменений, например, «добавил цели и задачи» или «написала про блокмоделинг в разделе методологии». Если хотите, можете написать подробнее в окошке ниже. Там же можно отмечать других участников.
6. Нажать кнопку "Commit"
7. Нажать на кнопку "Push" в том же месте, где вы нажимали "Fetch" до этого
![gh.png](service/gh.png)

### Про ветки 
- По умолчанию используем ветку `dev` — она будет «черновой»
- Когда финализируется часть отчёта, например, глава, заливаем её в ветку `main`.

## Домашнее задание (до 21.07.2023)
### Если вы ещё не делали свой тестовый файл
Проделайте все шаги в этой инструкции — сделайте и загрузите правильно названный файл с текстом и файл с библиографией в репозиторий. В текстовом файле используйте:
1. Несколько уровней заголовков (#)
2. Цитирование со скобками — [@a.haines2007] и без @a.haines2007.
3. Сноску[^1]
4. Картинку (обратите внимание, как отформатирована картинка в тестовом файле в репозитории)

### Если вы уже делали тестовый файл
Вам задание посложнее — напишите в своих файлах вашу текущую тему и 1-2 вводных абзаца по ней, используя как минимум одно релевантное цитирование, которое вы будете использовать в финальном отчётн. Например:

> Эпистемические сети — популярная тема на стыке сетевого анализа, эволюционной теории игр и когнитивной науки. Как указывает Моменнеджад [-@momennejad2021], топология социальных сетей оказывает прямой влияние на формирование коллективных познавательных способностей индивидов. 

## Горячие клавиши
- `Ctrl + O` — открыть навигатор файлов, чтобы создать новый файл
- `Ctrl + S` — линтер, автоматическое форматирование
- `Ctrl + Shift + 8` — создать сноску
- `Ctrl + Shift + E` — вставить цитирование
Остальные можно посмотреть в настройках, во вкладке Hotkeys (нажать на иконку фильтра и выбрать Assigned).

[^1]: Вот сноска.
